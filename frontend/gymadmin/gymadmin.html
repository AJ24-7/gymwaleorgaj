<!DOCTYPE html>
<html lang="en">
<head>
  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gym-Wale | Admin Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="gymadmin.css">
    <link rel="stylesheet" href="attendance.css">
    <link rel="stylesheet" href="membertab.css">
    <link rel="stylesheet" href="payment.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script defer src="gymadmin.js"></script>
    <script defer src="notification-modal.js"></script>
    <script defer src="notification-system.js"></script>
    <script defer src="attendance.js"></script>
    <script defer src="attendance-stats.js"></script>
    <script defer src="payment.js"></script>
</head>
<body>
<!-- Hamburger Menu for Mobile (move outside sidebar, just after <body>) -->
<button id="hamburgerMenuBtn" class="hamburger-menu" aria-label="Open menu">
  <span></span>
  <span></span>
  <span></span>
</button>
<!-- Backdrop for mobile sidebar -->
<div id="mobileSidebarBackdrop" class="mobile-sidebar-backdrop"></div>
<div class="dashboard">
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="logo">
            <div class="logo-icon">
                <i class="fas fa-dumbbell"></i>
            </div>
            <div class="logo-text">Gym-Wale</div>
        </div>
        <ul class="menu">
            <li class="menu-item">
                <a href="#" class="menu-link active">
                    <span class="menu-icon"><i class="fas fa-tachometer-alt"></i></span>
                    <span class="menu-text">Dashboard</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link">
                    <span class="menu-icon"><i class="fas fa-users"></i></span>
                    <span class="menu-text">Members</span>
                </a>
            </li>
             <li class="menu-item">
                <a href="#" class="menu-link">
                    <span class="menu-icon"><i class="fas fa-user-tie"></i></span>
                    <span class="menu-text">Trainers</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link">
                    <span class="menu-icon"><i class="fas fa-calendar-check"></i></span>
                    <span class="menu-text">Attendance</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link">
                    <span class="menu-icon"><i class="fas fa-credit-card"></i></span>
                    <span class="menu-text">Payments</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link">
                    <span class="menu-icon"><i class="fas fa-dumbbell"></i></span>
                    <span class="menu-text">Equipment</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link">
                    <span class="menu-icon"><i class="fas fa-bell"></i></span>
                    <span class="menu-text">Notifications</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link">
                    <span class="menu-icon"><i class="fas fa-cog"></i></span>
                    <span class="menu-text">Settings</span>
                </a>
            </li>
        </ul>
        <div class="toggle-btn" id="toggleBtn">
            <i class="fas fa-chevron-left"></i>
        </div>
        
    </div>
    <!-- Mobile Sidebar Dropdown -->
    <div id="mobileSidebarDropdown" class="mobile-sidebar-dropdown">
      <div style="display:flex; justify-content:flex-end; padding:18px;">
        <button id="closeMobileSidebar" aria-label="Close menu" style="background:none; border:none; font-size:2rem; cursor:pointer;">&times;</button>
      </div>
      <ul class="menu" style="padding:0 24px;">
        <li class="menu-item"><a href="#" class="menu-link"><span class="menu-icon"><i class="fas fa-tachometer-alt"></i></span> <span class="menu-text">Dashboard</span></a></li>
        <li class="menu-item"><a href="#" class="menu-link"><span class="menu-icon"><i class="fas fa-users"></i></span> <span class="menu-text">Members</span></a></li>
        <li class="menu-item"><a href="#" class="menu-link"><span class="menu-icon"><i class="fas fa-calendar-check"></i></span> <span class="menu-text">Attendance</span></a></li>
        <li class="menu-item"><a href="#" class="menu-link"><span class="menu-icon"><i class="fas fa-credit-card"></i></span> <span class="menu-text">Payments</span></a></li>
        <li class="menu-item"><a href="#" class="menu-link"><span class="menu-icon"><i class="fas fa-user-tie"></i></span> <span class="menu-text">Trainers</span></a></li>
        <li class="menu-item"><a href="#" class="menu-link"><span class="menu-icon"><i class="fas fa-dumbbell"></i></span> <span class="menu-text">Equipment</span></a></li>
        <li class="menu-item"><a href="#" class="menu-link"><span class="menu-icon"><i class="fas fa-bell"></i></span> <span class="menu-text">Notifications</span></a></li>
        <li class="menu-item"><a href="#" class="menu-link"><span class="menu-icon"><i class="fas fa-cog"></i></span> <span class="menu-text">Settings</span></a></li>
      </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Top Nav -->
        <div class="top-nav" id="topNav">
            <div class="user-actions">
                <!-- Interactive animated user box -->
                <div class="user-profile user-profile-animated" id="userProfileToggle">
                  <div class="user-profile-box">
                    <div class="user-avatar">
                      <img id="adminAvatar" src="https://via.placeholder.com/40" alt="Admin">
                    </div>
                    <span class="user-name" id="adminName">Admin</span>
                  </div>
                  <i class="fas fa-chevron-down"></i>
                </div>
                <div class="profile-dropdown-menu" id="profileDropdownMenu">
                  <button class="dropdown-item" id="editProfileLink" type="button"><i class="fas fa-user-edit"></i> Edit Profile</button>
                  <div class="dropdown-divider"></div>
                  <button class="dropdown-item" id="logoutLink" type="button"><i class="fas fa-sign-out-alt"></i> Logout</button>
                </div>
                </div>
            </div>

            <!-- Dashboard Content -->
            <div class="content">
                <div class="page-header">
                    <h1 class="page-title">Dashboard Overview</h1>
                    <div class="page-actions">
                        <button id="openNotificationModalBtn">
                            <i class="fas fa-bell"></i> Send Notification
                        </button>
                        <!-- Admin notification system will be inserted here automatically -->
                    </div>
                </div>


                <!-- Stats Cards -->
                <div class="stats-cards">
                    <div class="stat-card new-users" id="membersStatCard" style="cursor:pointer;">
                        <div class="stat-icon" style="font-size:2rem;color:#2563eb;display:flex;align-items:center;justify-content:center;margin-bottom:8px;">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-title">Members</div>
                        <div class="stat-value"></div>
                        <div class="stat-change"></div>
                    </div>

                    <div class="stat-card payments">
                        <div class="stat-icon" style="font-size:2rem;color:#43a047;display:flex;align-items:center;justify-content:center;margin-bottom:8px;">
                            <i class="fas fa-credit-card"></i>
                        </div>
                        <div class="stat-title">Total Payments</div>
                        <div class="stat-value"></div>
                        <div class="stat-change"></div>
                    </div>
                    <div class="stat-card attendance" id="attendanceStatCard" style="cursor:pointer;">
                        <div class="stat-icon" style="font-size:2rem;color:#ffa726;display:flex;align-items:center;justify-content:center;margin-bottom:8px;">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-title">Overall Attendance</div>
                        <div class="stat-value" id="overallAttendanceValue">Loading...</div>
                        <div class="stat-change" id="overallAttendanceChange">Calculating...</div>
                    </div>
                    <div class="stat-card trainers">
                        <div class="stat-icon" style="font-size:2rem;color:#7c3aed;display:flex;align-items:center;justify-content:center;margin-bottom:8px;">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <div class="stat-title">Active Trainers</div>
                        <div class="stat-value"></div>
                        <div class="stat-change"></div>
                    </div>
                </div>
                <!-- Quick Actions -->
                <div class="dashboard-row">
                  <div class="card quick-action-card">
                    <div class="card-header">
                      <h2 class="card-title">Quick Actions</h2>
                    </div>
                    <div class="quick-action-list">
                      <button class="quick-action-btn" id="addMemberBtn" type="button">
                        <i class="fas fa-user-plus"></i>
                        <span class="quick-action-title">Add Member</span>
                      </button>
                      <button class="quick-action-btn" id="recordPaymentBtn" type="button">
                        <i class="fas fa-money-bill-wave"></i>
                        <span class="quick-action-title">Record Payment</span>
                      </button>
                      <button class="quick-action-btn" id="addTrainerBtn" type="button">
                        <i class="fas fa-user-tie"></i>
                        <span class="quick-action-title">Add Trainer</span>
                      </button>
                      <button class="quick-action-btn" id="uploadEquipmentBtn" type="button">
                        <i class="fas fa-dumbbell"></i>
                        <span class="quick-action-title">Add Equipment</span>
                      </button>
                    </div>
                  </div>
                  <div class="card activities-offered-card">
                    <div class="card-header" style="display:flex;align-items:center;justify-content:space-between;">
                      <h2 class="card-title">Activities Offered</h2>
                      <button id="addActivitiesBtn" class="upload-photo-btn" type="button" style="display:flex;align-items:center;gap:8px;font-size:1rem;padding:8px 18px;background:#1976d2;color:#fff;border:none;border-radius:6px;box-shadow:0 2px 8px rgba(25,118,210,0.08);cursor:pointer;">
                        <i class="fas fa-plus-circle"></i> Add Activities
                      </button>
                    </div>
                    <div class="activities-list" id="activitiesList">
                      <!-- Activities will be rendered dynamically here -->
                    </div>
                    <!-- Add Activities Modal -->
                    <div class="modal" id="addActivitiesModal" style="display:none;z-index:10001;align-items:flex-start;">
                      <div class="modal-content" style="max-width:700px;margin-top:48px;">
                        <div style="display:flex;align-items:center;justify-content:space-between;">
                          <h3 style="margin:0;display:flex;align-items:center;gap:10px;"><i class="fas fa-plus-circle" style="color:var(--primary);"></i> Add Activities</h3>
                          <button class="modal-close" id="closeAddActivitiesModal" style="font-size:1.5rem;">&times;</button>
                        </div>
                        <div id="allActivitiesGrid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:18px;margin-top:18px;"></div>
                        <div style="display:flex;justify-content:flex-end;gap:10px;margin-top:24px;">
                          <button type="button" class="btn btn-secondary" id="cancelAddActivitiesBtn">Cancel</button>
                          <button type="button" class="btn btn-primary" id="saveActivitiesBtn">Save</button>
                        </div>
                      </div>
                    </div>
                    <!-- Save Confirmation Dialog -->
                    <div class="modal" id="saveActivitiesConfirmDialog" style="display:none;z-index:10002;align-items:center;">
                      <div class="modal-content" style="max-width:350px;text-align:center;">
                        <span class="modal-close" id="closeSaveActivitiesConfirmDialog" style="float:right;cursor:pointer;">&times;</span>
                        <h3 style="margin-bottom:18px;">Save Activities</h3>
                        <p>Are you sure you want to save the selected activities?</p>
                        <div style="margin-top:18px;">
                          <button id="confirmSaveActivitiesBtn" class="btn btn-primary" style="margin-right:10px;">Save</button>
                          <button id="cancelSaveActivitiesConfirmBtn" class="btn btn-secondary">Cancel</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                 <!-- Gym Information Section -->
                <div class="dashboard-row">
                  <div class="card gym-info-card">
                    <div class="card-header">
                      <h2 class="card-title"><i class="fas fa-building" style="color:var(--primary);margin-right:8px;"></i>Gym Information</h2>
                      <button id="editGymInfoBtn" class="btn btn-secondary" style="font-size:0.9em;padding:6px 12px;"><i class="fas fa-edit"></i> Edit</button>
                    </div>
                    <div class="gym-info-content" id="gymInfoContent">
                      <!-- Basic Information -->
                      <div class="gym-info-section">
                        <h3 class="gym-info-section-title"><i class="fas fa-info-circle"></i> Basic Information</h3>
                        <div class="gym-info-grid">
                          <div class="gym-info-item">
                            <span class="gym-info-label">Gym Name:</span>
                            <span class="gym-info-value" id="gymInfoName">Loading...</span>
                          </div>
                          <div class="gym-info-item">
                            <span class="gym-info-label">Owner/Contact Person:</span>
                            <span class="gym-info-value" id="gymInfoOwner">Loading...</span>
                          </div>
                          <div class="gym-info-item">
                            <span class="gym-info-label">Email:</span>
                            <span class="gym-info-value" id="gymInfoEmail">Loading...</span>
                          </div>
                          <div class="gym-info-item">
                            <span class="gym-info-label">Phone:</span>
                            <span class="gym-info-value" id="gymInfoPhone">Loading...</span>
                          </div>
                          <div class="gym-info-item">
                            <span class="gym-info-label">Support Email:</span>
                            <span class="gym-info-value" id="gymInfoSupportEmail">Loading...</span>
                          </div>
                          <div class="gym-info-item">
                            <span class="gym-info-label">Support Phone:</span>
                            <span class="gym-info-value" id="gymInfoSupportPhone">Loading...</span>
                          </div>
                        </div>
                      </div>

                      <!-- Location Information -->
                      <div class="gym-info-section">
                        <h3 class="gym-info-section-title"><i class="fas fa-map-marker-alt"></i> Location</h3>
                        <div class="gym-info-grid">
                          <div class="gym-info-item">
                            <span class="gym-info-label">Address:</span>
                            <span class="gym-info-value" id="gymInfoAddress">Loading...</span>
                          </div>
                          <div class="gym-info-item">
                            <span class="gym-info-label">City:</span>
                            <span class="gym-info-value" id="gymInfoCity">Loading...</span>
                          </div>
                          <div class="gym-info-item">
                            <span class="gym-info-label">State:</span>
                            <span class="gym-info-value" id="gymInfoState">Loading...</span>
                          </div>
                          <div class="gym-info-item">
                            <span class="gym-info-label">Pincode:</span>
                            <span class="gym-info-value" id="gymInfoPincode">Loading...</span>
                          </div>
                          <div class="gym-info-item">
                            <span class="gym-info-label">Landmark:</span>
                            <span class="gym-info-value" id="gymInfoLandmark">Loading...</span>
                          </div>
                        </div>
                      </div>

                      <!-- Operational Information -->
                      <div class="gym-info-section">
                        <h3 class="gym-info-section-title"><i class="fas fa-clock"></i> Operations</h3>
                        <div class="gym-info-grid">
                          <div class="gym-info-item">
                            <span class="gym-info-label">Opening Time:</span>
                            <span class="gym-info-value" id="gymInfoOpeningTime">Loading...</span>
                          </div>
                          <div class="gym-info-item">
                            <span class="gym-info-label">Closing Time:</span>
                            <span class="gym-info-value" id="gymInfoClosingTime">Loading...</span>
                          </div>
                          <div class="gym-info-item">
                            <span class="gym-info-label">Current Members:</span>
                            <span class="gym-info-value" id="gymInfoCurrentMembers">Loading...</span>
                          </div>
                          <div class="gym-info-item">
                            <span class="gym-info-label">Status:</span>
                            <span class="gym-info-value gym-status" id="gymInfoStatus">Loading...</span>
                          </div>
                        </div>
                      </div>

                      <!-- Description -->
                      <div class="gym-info-section">
                        <h3 class="gym-info-section-title"><i class="fas fa-align-left"></i> Description</h3>
                        <div class="gym-info-description" id="gymInfoDescription">Loading...</div>
                      </div>

                      <!-- Equipment List -->
                      <div class="gym-info-section">
                        <h3 class="gym-info-section-title"><i class="fas fa-dumbbell"></i> Equipment Available</h3>
                        <div class="gym-info-equipment" id="gymInfoEquipment">Loading...</div>
                      </div>
                    </div>
                  </div>
                </div>

                 <!-- Interactive Gym Photos Grid -->
                <section id="photoGridSection" class="card" style="margin-top: 24px;">
                  <div class="card-header">
                    <h1 class="card-title">Previously Uploaded Gym Photos</h1>
                    <button class="upload-photo-btn" id="uploadPhotoBtn">
                            <i class="fas fa-camera"></i> Upload Photo
                        </button>
                  </div>
                  <div class="card-body">
                    <div id="photoGrid" class="photo-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 18px;"></div>
                  </div>
                </section>
                 <!-- Membership Plans Section -->
                        <div class="card" id="membershipPlansSection" style="margin-top:18px;">
                          <div class="card-header" style="display:flex;align-items:center;justify-content:space-between;">
                            <h2 class="card-title"><i class="fas fa-crown" style="color:#ffbe0b;margin-right:8px;"></i>Membership Plans</h2>
                            <button id="editPlansBtn" class="btn btn-primary" style="font-size:1em;padding:6px 18px;"><i class="fas fa-edit"></i> Edit Plans</button>
                          </div>
<div class="plans-list" id="plansList"></div>
                        </div>
                        <!-- Membership Plan Editor Modal -->
                        <div class="modal" id="planEditorModal" style="display:none;z-index:10001;align-items:flex-start;">
                          <div class="modal-content" style="max-width:700px;margin-top:48px;">
                            <div style="display:flex;align-items:center;justify-content:space-between;">
                              <h3 style="margin:0;display:flex;align-items:center;gap:10px;"><i class="fas fa-crown" style="color:#ffbe0b;"></i> Edit Membership Plans</h3>
                              <button class="modal-close" id="closePlanEditorModal" style="font-size:1.5rem;">&times;</button>
                            </div>
                            <form id="planEditorForm" style="margin-top:18px;">
                          <div id="planEditorCards" style="display:flex;gap:18px;flex-wrap:wrap;justify-content:center;"></div>
                        
                         
                              <div style="display:flex;justify-content:flex-end;gap:10px;margin-top:24px;">
                                <button type="button" class="btn btn-secondary" id="cancelPlanEditBtn">Cancel</button>
                                <button type="submit" class="btn btn-primary">Save All</button>
                              </div>
                            </form>
                          </div>
                        </div>
                <!-- Rush Hour Indicator -->
                <div class="rush-hour">
                    <div class="rush-hour-info">
                        <div class="rush-hour-icon pulse">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="rush-hour-text">
                            <h4>Rush Hour Active</h4>
                            <p>Extra staff deployed during peak hours (5PM-8PM)</p>
                        </div>
                    </div>
                    <label class="rush-hour-toggle">
                        <input type="checkbox" checked>
                        <span class="rush-hour-slider"></span>
                    </label>
                </div>

                <!-- Main Grid -->
                <div class="main-grid">
                    <!-- Left Column -->
                    <div class="left-column">
                        <!-- New Members Card (Dynamic) -->
                        <div class="card" id="newMembersCard">
                            <div class="card-header">
                                <h2 class="card-title">New Members</h2>
                                <div class="card-actions">
                                    <button id="viewAllMembersBtn">View All</button>
                                    <button id="exportMembersBtn">Export</button>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Profile</th>
                                            <th>Name</th>
                                            <th>Join Date</th>
                                            <th>Plan</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="newMembersTableBody">
                                        <tr><td colspan="5" style="text-align:center;">Loading...</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Attendance Chart -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Attendance Trend</h2>
                                <div class="card-actions" style="display:flex;gap:10px;align-items:center;">
                                    <label for="dashboardChartMonth" style="font-size:0.95rem;color:#555;margin-right:4px;">Month:</label>
                                    <select id="dashboardChartMonth" style="padding:4px 8px;border-radius:4px;border:1px solid #ccc;font-size:0.95rem;">
                                        <option value="0">Jan</option>
                                        <option value="1">Feb</option>
                                        <option value="2">Mar</option>
                                        <option value="3">Apr</option>
                                        <option value="4">May</option>
                                        <option value="5">Jun</option>
                                        <option value="6">Jul</option>
                                        <option value="7">Aug</option>
                                        <option value="8">Sep</option>
                                        <option value="9">Oct</option>
                                        <option value="10">Nov</option>
                                        <option value="11">Dec</option>
                                    </select>
                                    <label for="dashboardChartYear" style="font-size:0.95rem;color:#555;margin-left:8px;margin-right:4px;">Year:</label>
                                    <select id="dashboardChartYear" style="padding:4px 8px;border-radius:4px;border:1px solid #ccc;font-size:0.95rem;"></select>
                                </div>
                            </div>
                            <div class="chart-container">
                                <!-- Chart will be rendered here -->
                                <canvas id="dashboardAttendanceChart" style="width: 100%; height: 350px;"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column -->
                    <div class="right-column">
                        

                        <!-- Recent Activity -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Recent Activity</h2>
                                <div class="card-actions">
                                    <button>View All</button>
                                </div>
                            </div>
                            <ul class="activity-list">
                                <li class="activity-item">
                                    <div class="activity-icon">
                                        <i class="fas fa-user-plus"></i>
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-title">New member registered - John Smith</div>
                                        <div class="activity-time">10 minutes ago</div>
                                    </div>
                                </li>
                                <li class="activity-item">
                                    <div class="activity-icon">
                                        <i class="fas fa-credit-card"></i>
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-title">Payment received from Emily Davis</div>
                                        <div class="activity-time">1 hour ago</div>
                                    </div>
                                </li>
                                <li class="activity-item">
                                    <div class="activity-icon">
                                        <i class="fas fa-dumbbell"></i>
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-title">New equipment added - Treadmill X200</div>
                                        <div class="activity-time">3 hours ago</div>
                                    </div>
                                </li>
                                <li class="activity-item">
                                    <div class="activity-icon">
                                        <i class="fas fa-bell"></i>
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-title">New notification sent to all members</div>
                                        <div class="activity-time">Yesterday</div>
                                    </div>
                                </li>
                            </ul>
                        </div>

                        <!-- Equipment Gallery -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Equipment Gallery</h2>
                                <div class="card-actions">
                                    <button>View All</button>
                                </div>
                            </div>
                            <div class="equipment-gallery">
                                <div class="equipment-item">
                                    <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Treadmill">
                                    <div class="equipment-overlay">Treadmill X200</div>
                                </div>
                                <div class="equipment-item">
                                    <img src="https://images.unsplash.com/photo-1571019614245-c5f2ba9806b1?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Dumbbells">
                                    <div class="equipment-overlay">Dumbbell Set</div>
                                </div>
                                <div class="equipment-item">
                                    <img src="https://images.unsplash.com/photo-1534258936925-c58bed479fcb?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Bench Press">
                                    <div class="equipment-overlay">Bench Press</div>
                                </div>
                                <div class="equipment-item">
                                    <img src="https://images.unsplash.com/photo-1576678927484-cc907957088c?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Rowing Machine">
                                    <div class="equipment-overlay">Rowing Machine</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Payment Tab (Initially Hidden) -->
            <div id="paymentTab" class="payment-tab">
                <div class="page-header">
                    <h1 class="page-title">Payment Management</h1>
                    <div class="page-actions">
                        <button id="addPaymentBtn" class="add-payment-btn">
                            <i class="fas fa-plus"></i> Add Payment
                        </button>
                    </div>
                </div>

                <!-- Payment Statistics Cards -->
                <div class="payment-stats-grid">
                    <div class="payment-stat-card received">
                        <div class="payment-stat-header">
                            <div class="payment-stat-title">Amount Received</div>
                            <div class="payment-stat-icon received">
                                <i class="fas fa-arrow-up"></i>
                            </div>
                        </div>
                        <div class="payment-stat-value">₹0</div>
                        <div class="payment-stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            0.0%
                        </div>
                    </div>

                    <div class="payment-stat-card paid">
                        <div class="payment-stat-header">
                            <div class="payment-stat-title">Amount Paid</div>
                            <div class="payment-stat-icon paid">
                                <i class="fas fa-arrow-down"></i>
                            </div>
                        </div>
                        <div class="payment-stat-value">₹0</div>
                        <div class="payment-stat-change negative">
                            <i class="fas fa-arrow-up"></i>
                            0.0%
                        </div>
                    </div>

                    <div class="payment-stat-card profit">
                        <div class="payment-stat-header">
                            <div class="payment-stat-title">Profit/Loss</div>
                            <div class="payment-stat-icon profit">
                                <i class="fas fa-chart-line"></i>
                            </div>
                        </div>
                        <div class="payment-stat-value">₹0</div>
                        <div class="payment-stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            0.0%
                        </div>
                    </div>
                </div>

                <!-- Payment Chart -->
                <div class="payment-chart-section">
                    <div class="payment-chart-header">
                        <h2 class="payment-chart-title">
                            <i class="fas fa-chart-area"></i> Payment Trends
                        </h2>
                        <div class="payment-chart-controls">
                            <select id="paymentChartMonth">
                                <option value="0">January</option>
                                <option value="1">February</option>
                                <option value="2">March</option>
                                <option value="3">April</option>
                                <option value="4">May</option>
                                <option value="5">June</option>
                                <option value="6">July</option>
                                <option value="7">August</option>
                                <option value="8">September</option>
                                <option value="9">October</option>
                                <option value="10">November</option>
                                <option value="11">December</option>
                            </select>
                            <select id="paymentChartYear">
                                <!-- Years will be populated by JavaScript -->
                            </select>
                        </div>
                    </div>
                    <div class="payment-chart-container">
                        <canvas id="paymentChart"></canvas>
                    </div>
                </div>

                <!-- Payment Content Grid -->
                <div class="payment-content-grid">
                    <!-- Recurring Payments -->
                    <div class="recurring-payments-section">
                        <div class="recurring-payments-header">
                            <h2 class="recurring-payments-title">
                                <i class="fas fa-calendar-alt"></i> Monthly Recurring Payments
                            </h2>
                            <div class="recurring-payments-filters">
                                <button class="filter-btn active" data-filter="all">All</button>
                                <button class="filter-btn" data-filter="pending">Pending</button>
                                <button class="filter-btn" data-filter="overdue">Overdue</button>
                                <button class="filter-btn" data-filter="completed">Completed</button>
                            </div>
                        </div>
                        <div class="recurring-payments-list" id="recurringPaymentsList">
                            <div class="payment-loading">
                                <i class="fas fa-spinner"></i> Loading payments...
                            </div>
                        </div>
                    </div>

                    <!-- Recent Payments -->
                    <div class="recent-payments-section">
                        <div class="recent-payments-header">
                            <h2 class="recent-payments-title">
                                <i class="fas fa-history"></i> Recent Payments
                            </h2>
                        </div>
                        <div class="recent-payments-list" id="recentPaymentsList">
                            <div class="payment-loading">
                                <i class="fas fa-spinner"></i> Loading payments...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Notification Modal -->
    <div class="modal" id="notificationModal" style="display: none;">
        <div class="modal-content" style="max-width: 650px;">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-paper-plane"></i> Send Notification
                </h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
               <!-- Recipient Filter -->
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-filter"></i> Send To
                    </label>
                    <select class="form-control" id="notificationSendTo">
                        <option value="all-members">All Members</option>
                        <option value="active-members">Active Membership Members Only</option>
                        <option value="expiring-members">Members with Expiring Membership (7 days)</option>
                        <option value="expired-members">Members with Expired Membership</option>
                        <option value="premium-members">Premium Members</option>
                        <option value="standard-members">Standard Members</option>
                        <option value="basic-members">Basic Members</option>
                        <option value="trainers">Trainers Only</option>
                        <option value="admin">Admin Only</option>
                        <option value="new-members">New Members (Last 30 days)</option>
                        <option value="custom">Custom Selection</option>
                    </select>
                </div>

                <!-- Quick Message Templates -->
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-bolt"></i> Quick Message Templates
                    </label>
                    <div class="quick-message-grid">
                        <button type="button" class="quick-msg-btn" data-template="membership-expiry">
                            <i class="fas fa-calendar-times"></i> Membership Expiry
                        </button>
                        <button type="button" class="quick-msg-btn" data-template="payment-reminder">
                            <i class="fas fa-credit-card"></i> Payment Reminder
                        </button>
                        <button type="button" class="quick-msg-btn" data-template="new-class">
                            <i class="fas fa-plus-circle"></i> New Class
                        </button>
                        <button type="button" class="quick-msg-btn" data-template="holiday-notice">
                            <i class="fas fa-calendar-alt"></i> Holiday Notice
                        </button>
                        <button type="button" class="quick-msg-btn" data-template="maintenance">
                            <i class="fas fa-tools"></i> Maintenance
                        </button>
                        <button type="button" class="quick-msg-btn" data-template="achievement">
                            <i class="fas fa-trophy"></i> Achievement
                        </button>
                    </div>
                </div>

               
                <!-- Custom Selection Area (hidden by default) -->
                <div class="form-group" id="customSelectionArea" style="display: none;">
                    <label class="form-label">Select Recipients</label>
                    <div class="custom-selection-container">
                        <div class="selection-search">
                            <input type="text" id="recipientSearch" placeholder="Search members..." class="form-control">
                        </div>
                        <div class="selection-list" id="customRecipientList">
                            <!-- Dynamic content will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Notification Channels -->
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-share-alt"></i> Notification Channels
                    </label>
                    <div class="channel-options">
                        <label class="channel-option">
                            <input type="checkbox" id="systemNotification" checked>
                            <span class="channel-icon"><i class="fas fa-bell"></i></span>
                            <span class="channel-label">Notification sytem</span>
                        </label>
                        <label class="channel-option">
                            <input type="checkbox" id="emailNotification">
                            <span class="channel-icon"><i class="fas fa-envelope"></i></span>
                            <span class="channel-label">Email</span>
                        </label>
                        <label class="channel-option">
                            <input type="checkbox" id="whatsappNotification">
                            <span class="channel-icon"><i class="fab fa-whatsapp"></i></span>
                            <span class="channel-label">WhatsApp</span>
                        </label>
                        <label class="channel-option">
    <input type="checkbox" id="mainAdminNotification">
    <span class="channel-icon"><i class="fas fa-user-shield"></i></span>
    <span class="channel-label">Send to Main Admin</span>
</label>
                    </div>
                </div>

                <!-- Message Content -->
                <div class="form-group">
                    <label class="form-label" for="notificationTitle">
                        <i class="fas fa-heading"></i> Notification Title
                    </label>
                    <input type="text" class="form-control" id="notificationTitle" placeholder="Enter notification title" maxlength="100">
                    <small class="char-count">0/100</small>
                </div>

                <div class="form-group">
                    <label class="form-label" for="notificationMessage">
                        <i class="fas fa-comment"></i> Message
                    </label>
                    <textarea class="form-control" id="notificationMessage" placeholder="Enter your message" rows="4" maxlength="500"></textarea>
                    <small class="char-count">0/500</small>
                </div>

                <!-- Message Preview -->
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-eye"></i> Message Preview
                    </label>
                    <div class="message-preview" id="messagePreview">
                        <div class="preview-title">Preview Title</div>
                        <div class="preview-message">Preview message will appear here...</div>
                    </div>
                </div>

                <!-- Delivery Options -->
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-clock"></i> Delivery Options
                    </label>
                    <div class="delivery-options">
                        <label class="delivery-option">
                            <input type="radio" name="deliveryTime" value="now" checked>
                            <span>Send Now</span>
                        </label>
                        <label class="delivery-option">
                            <input type="radio" name="deliveryTime" value="schedule">
                            <span>Schedule for Later</span>
                        </label>
                    </div>
                    <div class="schedule-container" id="scheduleContainer" style="display: none;">
                        <input type="datetime-local" id="scheduleTime" class="form-control">
                    </div>
                </div>

                <!-- Send Status -->
                <div class="send-status" id="sendStatus" style="display: none;">
                    <div class="status-item">
                        <i class="fas fa-bell"></i>
                        <span>System: </span>
                        <span class="status-text" id="systemStatus">Pending</span>
                    </div>
                    <div class="status-item">
                        <i class="fas fa-envelope"></i>
                        <span>Email: </span>
                        <span class="status-text" id="emailStatus">Pending</span>
                    </div>
                    <div class="status-item">
                        <i class="fab fa-whatsapp"></i>
                        <span>WhatsApp: </span>
                        <span class="status-text" id="whatsappStatus">Pending</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="sendNotificationBtn">
                    <i class="fas fa-paper-plane"></i> Send Notification
                </button>
            </div>
        </div>
    </div>

    <!-- Attendance Statistics Modal -->
    <div class="modal" id="attendanceStatsModal" style="display: none;">
        <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header" style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-bottom: 1px solid #eee;">
                <h3 class="modal-title" style="margin: 0; color: var(--primary);">
                    <i class="fas fa-chart-line"></i> Attendance Statistics
                </h3>
                <button class="modal-close" id="closeAttendanceStats" style="background: none; border: none; font-size: 24px; cursor: pointer;">&times;</button>
            </div>
            <div class="modal-body" style="padding: 20px;">
                <!-- Today's Summary -->
                <div class="attendance-summary-section" style="margin-bottom: 30px;">
                    <h4 style="color: var(--primary); margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-calendar-day"></i> Today's Attendance Summary
                    </h4>
                    <div class="attendance-summary-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                        <div class="summary-card" style="background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center; border-left: 4px solid var(--success);">
                            <div class="summary-icon" style="font-size: 2rem; color: var(--success); margin-bottom: 10px;">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="summary-number" id="totalMembersPresent" style="font-size: 2rem; font-weight: bold; color: var(--success);">0</div>
                            <div class="summary-label" style="color: var(--text-secondary); font-size: 0.9rem;">Members Present</div>
                        </div>
                        <div class="summary-card" style="background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center; border-left: 4px solid var(--primary);">
                            <div class="summary-icon" style="font-size: 2rem; color: var(--primary); margin-bottom: 10px;">
                                <i class="fas fa-user-tie"></i>
                            </div>
                            <div class="summary-number" id="totalTrainersPresent" style="font-size: 2rem; font-weight: bold; color: var(--primary);">0</div>
                            <div class="summary-label" style="color: var(--text-secondary); font-size: 0.9rem;">Trainers Present</div>
                        </div>
                        <div class="summary-card" style="background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center; border-left: 4px solid var(--warning);">
                            <div class="summary-icon" style="font-size: 2rem; color: var(--warning); margin-bottom: 10px;">
                                <i class="fas fa-percentage"></i>
                            </div>
                            <div class="summary-number" id="overallAttendancePercentage" style="font-size: 2rem; font-weight: bold; color: var(--warning);">0%</div>
                            <div class="summary-label" style="color: var(--text-secondary); font-size: 0.9rem;">Overall Attendance</div>
                        </div>
                    </div>
                </div>

                <!-- Monthly Chart Section -->
                <div class="monthly-chart-section" style="margin-bottom: 30px;">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                        <h4 style="color: var(--primary); margin: 0; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-chart-bar"></i> Monthly Attendance Trend
                        </h4>
                        <div class="chart-controls" style="display: flex; gap: 10px;">
                            <select id="attendanceChartMonth" style="padding: 5px 10px; border: 1px solid #ddd; border-radius: 4px;">
                                <option value="0">January</option>
                                <option value="1">February</option>
                                <option value="2">March</option>
                                <option value="3">April</option>
                                <option value="4">May</option>
                                <option value="5">June</option>
                                <option value="6">July</option>
                                <option value="7">August</option>
                                <option value="8">September</option>
                                <option value="9">October</option>
                                <option value="10">November</option>
                                <option value="11">December</option>
                            </select>
                            <select id="attendanceChartYear" style="padding: 5px 10px; border: 1px solid #ddd; border-radius: 4px;">
                                <option value="2025">2025</option>
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-container" style="background: #f8f9fa; padding: 20px; border-radius: 8px; min-height: 400px;">
                        <canvas id="attendanceChart" style="width: 100%; height: 350px;"></canvas>
                    </div>
                </div>

                <!-- Detailed Statistics -->
                <div class="detailed-stats-section">
                    <h4 style="color: var(--primary); margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-list"></i> Detailed Statistics
                    </h4>
                    <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div class="stat-item" style="background: #f8f9fa; padding: 15px; border-radius: 8px; color: #222;">
                            <div class="stat-header" style="display: flex; align-items: center; gap: 8px; margin-bottom: 10px;">
                                <i class="fas fa-users" style="color: var(--success);"></i>
                                <span style="font-weight: bold;">Members</span>
                            </div>
                            <div class="stat-details">
                                <div class="stat-row" style="display: flex; justify-content: space-between; margin-bottom: 5px; color: #222;">
                                    <span>Total Members:</span>
                                    <span id="totalMembersCount">0</span>
                                </div>
                                <div class="stat-row" style="display: flex; justify-content: space-between; margin-bottom: 5px; color: #222;">
                                    <span>Present Today:</span>
                                    <span id="membersPresentToday">0</span>
                                </div>
                                <div class="stat-row" style="display: flex; justify-content: space-between; margin-bottom: 5px; color: #222;">
                                    <span>Absent Today:</span>
                                    <span id="membersAbsentToday">0</span>
                                </div>
                                <div class="stat-row" style="display: flex; justify-content: space-between; color: #222;">
                                    <span>Attendance Rate:</span>
                                    <span id="membersAttendanceRate">0%</span>
                                </div>
                            </div>
                        </div>
                        <div class="stat-item" style="background: #f8f9fa; padding: 15px; border-radius: 8px; color: #222;">
                            <div class="stat-header" style="display: flex; align-items: center; gap: 8px; margin-bottom: 10px;">
                                <i class="fas fa-user-tie" style="color: var(--primary);"></i>
                                <span style="font-weight: bold;">Trainers</span>
                            </div>
                            <div class="stat-details">
                                <div class="stat-row" style="display: flex; justify-content: space-between; margin-bottom: 5px; color: #222;">
                                    <span>Total Trainers:</span>
                                    <span id="totalTrainersCount">0</span>
                                </div>
                                <div class="stat-row" style="display: flex; justify-content: space-between; margin-bottom: 5px; color: #222;">
                                    <span>Present Today:</span>
                                    <span id="trainersPresentToday">0</span>
                                </div>
                                <div class="stat-row" style="display: flex; justify-content: space-between; margin-bottom: 5px; color: #222;">
                                    <span>Absent Today:</span>
                                    <span id="trainersAbsentToday">0</span>
                                </div>
                                <div class="stat-row" style="display: flex; justify-content: space-between; color: #222;">
                                    <span>Attendance Rate:</span>
                                    <span id="trainersAttendanceRate">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Upload Photo Modal -->
    <div class="modal" id="uploadPhotoModal">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title">Upload Gym Photo</h3>
            <!-- Removed the X close button -->
          </div>
          <form id="uploadGymPhotoForm" enctype="multipart/form-data" data-field="gymPhotos">
            <div class="modal-body">
              <div class="form-group">
                <label class="form-label" for="photoTitle">Photo Title</label>
                <input type="text" class="form-control" id="photoTitle" name="title" placeholder="Enter photo title" required>
              </div>
              <div class="form-group">
                <label class="form-label" for="photoDescription">Description</label>
                <textarea class="form-control" id="photoDescription" name="description" placeholder="Enter photo description" required></textarea>
              </div>
              <div class="form-group">
                <label class="form-label" for="photoFile">Upload Photo</label>
                <input type="file" id="photoFile" name="photo" accept="image/*" required>
              </div>
              <div class="form-group">
                <label class="form-label" for="photoCategory">Category</label>
                <select class="form-control" id="photoCategory" name="category" required>
                  <option>Gym Facility</option>
                  <option>Equipment</option>
                  <option>Classes</option>
                  <option>Events</option>
                </select>
              </div>
            </div>
            <div id="uploadPhotoMsg" style="margin-bottom: 10px; color: green; text-align: center;"></div>
              <div class="modal-footer">
              <button class="btn btn-secondary" id="cancelUploadPhotoBtn" type="button" style="margin-right:8px;">Cancel</button>
              <button class="btn btn-primary" type="submit">Upload Photo</button>
            </div>
          </form>
        </div>
      </div>
       <!-- Edit Gym Photo Modal -->
    <div class="modal" id="editPhotoModal" style="display:none;">
      <div class="modal-content">
        <span class="modal-close" id="closeEditPhotoModal">&times;</span>
        <form id="editPhotoForm" enctype="multipart/form-data">
          <input type="hidden" name="photoId" id="editPhotoId">
          <label for="editPhotoTitle">Title</label>
          <input type="text" name="title" id="editPhotoTitle" required>
          <label for="editPhotoDescription">Description</label>
          <textarea name="description" id="editPhotoDescription" required></textarea>
          <label for="editPhotoFile">Change Image (optional)</label>
          <input type="file" name="photo" id="editPhotoFile" accept="image/*">
          <div id="editPhotoPreview" style="margin: 10px 0;"></div>
          <div id="editPhotoMsg" style="margin-bottom: 10px; color: green; text-align: center;"></div>
           <button type="submit" style="background:#1976d2; color:#fff; border:none; padding:8px 20px; border-radius:4px; margin-right:8px;">Save</button>
          <button type="button" id="cancelEditPhotoBtn" class="btn btn-secondary" style="margin-right:8px;">Cancel</button>
        </form>
      </div>
    </div>

    <!-- Edit Profile Modal -->
<div class="modal" id="editProfileModal" style="display:none;">
  <div class="modal-content">
    <span class="modal-close" id="closeEditProfileModal">&times;</span>
    <form id="editProfileForm">
      <label for="editGymName">Gym Name</label>
      <input type="text" id="editGymName" name="gymName" required>
      <label for="editGymEmail">Email</label>
      <input type="email" id="editGymEmail" name="email" required>
      <label for="editGymPhone">Phone</label>
      <input type="text" id="editGymPhone" name="phone" required>
      <label for="editGymAddress">Address</label>
      <input type="text" id="editGymAddress" name="address">
      <label for="editGymCity">City</label>
      <input type="text" id="editGymCity" name="city">
      <label for="editGymPincode">Pincode</label>
      <input type="text" id="editGymPincode" name="pincode">
      <label for="editGymDescription">Description</label>
      <textarea id="editGymDescription" name="description"></textarea>
      <label for="editGymLogo">Logo</label>
     <input type="file" id="editGymLogo" name="gymLogo">
      <img id="logoPreviewImage" src="#" alt="Logo Preview" style="display:none;max-width:100px;margin-top:10px;">
      <!-- Change Password Section -->
<div id="changePasswordSection" style="margin-top:1rem;">
  <button type="button" id="showChangePasswordFields" class="btn btn-secondary">Change Password</button>
  <div id="passwordFields" style="display:none; margin-top:1rem;">
    <label for="editGymPassword">New Password</label>
    <input type="password" id="editGymPassword" name="password" autocomplete="new-password" minlength="8" placeholder="New password">
    <label for="editGymPasswordConfirm">Confirm New Password</label>
    <input type="password" id="editGymPasswordConfirm" name="passwordConfirm" autocomplete="new-password" minlength="8" placeholder="Repeat new password">
  </div>
</div>
      <button type="submit" class="btn btn-primary" style="margin-top:1rem;">Save</button>
    </form>
  </div>
</div>
   <!-- Password Confirmation Dialog -->
<div id="passwordConfirmDialog" class="modal" style="display:none;">
  <div class="modal-content" style="max-width:350px;">
    <span class="modal-close" id="closePasswordConfirmDialog">&times;</span>
    <form id="passwordConfirmForm">
      <label for="currentPassword">Please enter your current password to confirm changes:</label>
      <input type="password" id="currentPassword" name="currentPassword" required autocomplete="current-password">
      <button type="submit" class="btn btn-primary" style="margin-top:1rem;">Confirm</button>
    </form>
  </div>
</div>
   <!-- Delete Photo Confirmation Modal -->
<div class="modal" id="deletePhotoConfirmModal" style="display:none;">
  <div class="modal-content" style="max-width:340px; text-align:center;">
    <span class="modal-close" id="closeDeletePhotoConfirmModal" style="float:right;cursor:pointer;">&times;</span>
    <h3 style="margin-bottom:18px;">Delete Photo</h3>
    <p>Are you sure you want to delete this photo?</p>
    <div style="margin-top:18px;">
      <button id="confirmDeletePhotoBtn" class="btn btn-danger" style="margin-right:10px;">Delete</button>
      <button id="cancelDeletePhotoBtn" class="btn btn-secondary">Cancel</button>
    </div>
  </div>
</div>
<!-- Add Member Modal -->
<div class="modal" id="addMemberModal" style="display:none;">
  <div class="modal-content">
    <span class="modal-close" id="closeAddMemberModal">&times;</span>
    <h2>Add New Member</h2>
    <form id="addMemberForm" enctype="multipart/form-data">
      <div class="form-group" style="display: flex; flex-direction: column; align-items: center;">
        <label for="memberProfileImage" style="margin-bottom: 0.5rem;">Profile Image</label>
        <div id="memberImagePreview" style="width: 96px; height: 96px; border-radius: 50%; background: #f0f0f0; overflow: hidden; display: flex; align-items: center; justify-content: center; margin-bottom: 0.5rem;">
          <img src="https://via.placeholder.com/96?text=Photo" alt="Preview" style="width: 96px; height: 96px; object-fit: cover; border-radius: 50%;" id="memberImageTag">
        </div>
        <input type="file" id="memberProfileImage" name="profileImage" accept="image/*" style="display:none;">
        <button type="button" id="uploadMemberImageBtn" style="margin-bottom: 0.5rem;">Choose Image</button>
      </div>
      <div class="form-group">
        <label for="memberName">Name</label>
        <input type="text" id="memberName" name="memberName" required>
      </div>
      <div class="form-group">
        <label for="memberAge">Age</label>
        <input type="number" id="memberAge" name="memberAge" min="10" max="100" required>
      </div>
      <div class="form-group">
        <label for="memberGender">Gender</label>
        <select id="memberGender" name="memberGender" required>
          <option value="">Select</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Other">Other</option>
        </select>
      </div>
      <div class="form-group">
        <label for="memberPhone">Phone No.</label>
        <input type="tel" id="memberPhone" name="memberPhone" pattern="[0-9]{10}" required>
      </div>
      <div class="form-group">
        <label for="memberEmail">Email</label>
        <input type="email" id="memberEmail" name="memberEmail" required>
      </div>
      <div class="form-group">
        <label for="memberAddress">Address</label>
        <input type="text" id="memberAddress" name="memberAddress" placeholder="Street, City, State" required>
      </div>
      <div class="form-group">
        <label for="paymentMode">Payment Mode</label>
        <select id="paymentMode" name="paymentMode" required>
          <option value="">Select</option>
          <option value="Cash">Cash</option>
          <option value="Card">Card</option>
          <option value="UPI">UPI</option>
          <option value="Online">Online</option>
        </select>
      </div>
      <div class="form-group">
        <label for="planSelected">Plan Selected</label>
        <select id="planSelected" name="planSelected" required>
          <option value="">Select</option>
          <option value="Basic">Basic</option>
          <option value="Standard">Standard</option>
          <option value="Premium">Premium</option>
        </select>
      </div>
      <div class="form-group">
        <label for="monthlyPlan">Monthly Plan</label>
        <select id="monthlyPlan" name="monthlyPlan" required>
          <option value="">Select</option>
          <option value="1 Month">1 Month</option>
          <option value="3 Months">3 Months</option>
          <option value="6 Months">6 Months</option>
          <option value="12 Months">12 Months</option>
        </select>
      </div>
       <div class="form-group">
        <label for="paymentAmount">Payment Amount</label>
        <input type="number" id="paymentAmount" name="paymentAmount" min="0" required>
      </div>
      <div class="form-group">
        <label for="activityPreference">Activity Preference</label>
        <input type="text" id="activityPreference" name="activityPreference" placeholder="e.g. Yoga, Cardio, Zumba" required>
      </div>
      <button type="submit" class="btn btn-primary">Add Member</button>
      <div id="addMemberSuccessMsg" style="display:none;"></div>
    </form>
  </div>
</div>
 <!-- Trainer Registration Modal (Quick Action) -->
    <div class="modal" id="trainerRegistrationModal" style="display:none;">
      <div class="modal-content">
        <span class="modal-close" id="closeTrainerRegistrationModal">&times;</span>
        <h2 style="text-align:center;">Trainer Registration</h2>
        <!-- Profile Image Upload at Top Center -->
        <div class="form-group" style="display: flex; flex-direction: column; align-items: center; margin-bottom: 1.5rem; margin-top: 1rem;">
          <label for="trainerProfileImage" style="margin-bottom: 0.5rem;">Profile Image</label>
          <div id="trainerImagePreview" style="width: 96px; height: 96px; border-radius: 50%; background: #f0f0f0; overflow: hidden; display: flex; align-items: center; justify-content: center; margin-bottom: 0.5rem;">
            <img src="https://via.placeholder.com/96?text=Photo" alt="Preview" style="width: 96px; height: 96px; object-fit: cover; border-radius: 50%;" id="trainerImageTag">
          </div>
          <input type="file" id="trainerProfileImage" name="profileImage" accept="image/*" style="display:none;">
          <button type="button" id="uploadTrainerImageBtn" style="margin-bottom: 0.5rem;">Choose Image</button>
        </div>
        <form class="registration-form" id="trainerRegistrationForm" enctype="multipart/form-data" action="javascript:void(0);">
          <div class="form-row">
            <div class="form-col">
              <label for="trainerFirstName">First Name</label>
              <input type="text" id="trainerFirstName" name="firstName" required>
            </div>
            <div class="form-col">
              <label for="trainerLastName">Last Name</label>
              <input type="text" id="trainerLastName" name="lastName" required>
            </div>
          </div>
          <div class="form-row">
            <div class="form-col">
              <label for="trainerEmail">Email Address</label>
              <input type="email" id="trainerEmail" name="email" required>
            </div>
            <div class="form-col">
              <label for="trainerPhone">Phone Number</label>
              <input type="tel" id="trainerPhone" name="phone" required>
            </div>
          </div>
          <div class="form-row">
            <div class="form-col">
              <label for="trainerSpecialty">Primary Specialty</label>
              <select id="trainerSpecialty" name="specialty" required>
                <option value="">Select specialty of Trainer</option>
                <option value="Weight Loss">Weight Loss</option>
                <option value="Bodybuilding">Bodybuilding</option>
                <option value="Functional Training">Functional Training</option>
                <option value="Sports Performance">Sports Performance</option>
                <option value="Rehabilitation">Rehabilitation</option>
              </select>
            </div>
            <div class="form-col">
              <label for="trainerExperience">Years of Experience</label>
              <input type="number" id="trainerExperience" min="0" name="experience" required>
            </div>
          </div>
          <div class="form-row">
            <div class="form-col">
              <label for="trainerAvailability">Availability</label>
              <div id="availabilityFieldset" style="display:flex;flex-direction:column;gap:8px;">
                <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap;">
                  <span style="font-weight:400;">Quick:</span>
                  <button type="button" class="btn btn-secondary" id="setAllMorning">All Mornings</button>
                  <button type="button" class="btn btn-secondary" id="setAllAfternoon">All Afternoons</button>
                  <button type="button" class="btn btn-secondary" id="setAllEvening">All Evenings</button>
                  <button type="button" class="btn btn-secondary" id="clearAllAvailability">Clear</button>
                </div>
                <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px;">
                  <div><label for="availMonday">Monday</label><input type="text" id="availMonday" class="day-availability" data-day="Monday" placeholder="e.g. 7am-11am, 5pm-8pm"></div>
                  <div><label for="availTuesday">Tuesday</label><input type="text" id="availTuesday" class="day-availability" data-day="Tuesday" placeholder="e.g. 7am-11am, 5pm-8pm"></div>
                  <div><label for="availWednesday">Wednesday</label><input type="text" id="availWednesday" class="day-availability" data-day="Wednesday" placeholder="e.g. 7am-11am, 5pm-8pm"></div>
                  <div><label for="availThursday">Thursday</label><input type="text" id="availThursday" class="day-availability" data-day="Thursday" placeholder="e.g. 7am-11am, 5pm-8pm"></div>
                  <div><label for="availFriday">Friday</label><input type="text" id="availFriday" class="day-availability" data-day="Friday" placeholder="e.g. 7am-11am, 5pm-8pm"></div>
                  <div><label for="availSaturday">Saturday</label><input type="text" id="availSaturday" class="day-availability" data-day="Saturday" placeholder="e.g. 7am-11am, 5pm-8pm"></div>
                  <div><label for="availSunday">Sunday</label><input type="text" id="availSunday" class="day-availability" data-day="Sunday" placeholder="e.g. 7am-11am, 5pm-8pm"></div>
                </div>
                <textarea id="trainerAvailability" name="availability" style="margin-top:8px;" placeholder="Or describe your typical availability (optional)"></textarea>
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="form-col">
              <label for="trainerCertifications">Certifications</label>
              <div class="certification-upload">
                <p>Upload copies of certifications (PDF, JPG, or PNG)</p>
                <input type="file" id="trainerCertifications" multiple accept=".pdf,.jpg,.jpeg,.png" name="certifications" />
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="form-col">
              <label for="trainerBio">Professional Bio</label>
              <textarea id="trainerBio" placeholder="write training philosophy and approach" name="bio"></textarea>
            </div>
          </div>
          <div class="form-row">
            <div class="form-col">
              <label for="trainerRate">Hourly Rate (₹)</label>
              <input type="number" id="trainerRate" min="0" step="5" name="rate" required>
            </div>
          </div>
          <div id="trainerFormResponseMessage" style="display: none; margin-top: 15px; padding: 10px; border-radius: 5px;"></div>
          <div class="form-actions" style="margin-top: 20px; text-align: right;">
            <button type="submit" class="btn btn-primary" id="submitTrainerRegistrationBtn">Register Profile</button>
          </div>
        </form>
        <div id="trainer-registration-success-message" style="display: none; margin-top: 20px; padding: 15px; border-radius: 8px; text-align: center; background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb;">
          <h4 style="margin-top: 0; margin-bottom: 10px;">🎉 Registration Submitted!</h4>
          <p style="margin-bottom: 5px;">Your application is now awaiting admin approval.</p>
          <p>You'll receive an email soon with the status.</p>
        </div>
      </div>
    </div>
<!-- Member Display Tab (hidden by default) -->
<div id="memberDisplayTab" style="display:none; padding: 24px;">
  <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 18px;">
    <h2 style="color: var(--primary); margin: 0;">All Members</h2>
    <div class="member-action-btn-group">
      <button id="addMemberBtnTab" class="member-action-btn add-member-action-btn">
        <i class="fas fa-user-plus"></i><span class="btn-text"> Add Member</span>
      </button>
      <button id="removeMemberBtnTab" class="member-action-btn remove-member-action-btn">
        <i class="fas fa-user-minus"></i><span class="btn-text"> Remove Members</span>
      </button>
      <!-- Remove Member dropdown and modal will be created and managed by JS only -->
    </div>
  </div>
  <div class="search-bar" style="display:flex;align-items:center;gap:12px;margin-bottom:18px;background:#f8f9fa;padding:10px 18px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.04);">
    <span class="search-icon" style="color:var(--primary);font-size:1.2rem;margin-right:6px;"><i class="fas fa-search"></i></span>
    <input type="text" id="memberSearchInput" placeholder="Search by Name, Email, Phone, Membership ID..." style="flex:1;padding:8px 12px;border:1px solid #d0d7de;border-radius:6px;font-size:1rem;outline:none;transition:border 0.2s;">
    <select id="membershipExpiryFilter" style="padding:8px 12px;border:1px solid #d0d7de;border-radius:6px;font-size:1rem;background:#fff;">
      <option value="">All Members</option>
      <option value="3days">Expiring in 3 Days</option>
      <option value="1day">Expiring in 1 Day</option>
    </select>
  </div>
  <div id="membersTableContainer">
    <table id="membersTable" style="width:100%; border-collapse:collapse;">
      <thead>
        <tr>
          <th>Profile</th>
          <th>Name</th>
          <th>Membership ID</th>
          <th>Age</th>
          <th>Gender</th>
          <th>Phone</th>
          <th>Email</th>
          <th>Address</th>
          <th>Plan</th>
          <th>Monthly</th>
          <th>Activity</th>
          <th>Join Date</th>
          <th>Valid Until</th>
          <th>Amount Paid</th>
        </tr>
      </thead>
      <tbody id="membersTableBody">
        <!-- Members will be loaded here -->
       
      </tbody>
    </table>
  </div>
</div>
<!-- Interactive Members Detail Card (hidden by default) -->
<div id="membersDetailCard" class="modal">
  <div class="modal-content member-detail-modal">
    <div class="member-detail-header" style="position:relative;">
      <button id="editMemberDetailBtn" title="Edit Member" style="position:absolute;left:18px;top:16px;background:none;border:none;cursor:pointer;font-size:1.25rem;color:#fff;z-index:3;transition:color 0.2s;"><i class="fas fa-edit"></i></button>
      <h2 class="member-detail-title" style="margin-left:32px;">
        <i class="fas fa-id-card-alt"></i> Member Details
      </h2>
      <button id="closeMembersDetailCard" class="modal-close" title="Close">&times;</button>
    </div>
    <div id="memberDetailDynamicContent">
      <!-- Dynamic content injected by JS -->
    </div>
  </div>
</div>
<!-- Trainer Tab -->
<div id="trainerTab" style="display:none; padding: 24px;">
  <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 18px;">
    <h2 style="color: var(--primary); margin: 0;">Trainers</h2>
  </div>
  <div class="trainer-tab-section" style="height:calc(100vh - 180px);display:flex;flex-direction:column;">
    <div class="trainer-tab-nav" style="display:flex;gap:18px;margin-bottom:18px;">
      <button class="trainer-tab-btn" id="approvedTrainersBtn" style="flex:1;padding:8px 18px;border-radius:6px;border:none;background:var(--success);color:#fff;font-weight:600;">Approved</button>
      <button class="trainer-tab-btn" id="pendingTrainersBtn" style="flex:1;padding:8px 18px;border-radius:6px;border:none;background:var(--warning);color:#fff;font-weight:600;">Pending Approval</button>
      <button class="trainer-tab-btn" id="rejectedTrainersBtn" style="flex:1;padding:8px 18px;border-radius:6px;border:none;background:var(--danger);color:#fff;font-weight:600;">Rejected</button>
    </div>
    <div id="trainerGridContainer" style="flex:1;display:block;width:100%;">
      <div id="pendingTrainersGrid" class="trainer-grid" style="display:none;width:100%;overflow:auto;padding:8px 0;box-sizing:border-box;"></div>
      <div id="approvedTrainersGrid" class="trainer-grid" style="display:none;width:100%;overflow:auto;padding:8px 0;box-sizing:border-box;"></div>
      <div id="rejectedTrainersGrid" class="trainer-grid" style="display:none;width:100%;overflow:auto;padding:8px 0;box-sizing:border-box;"></div>
    </div>
   
  </div>
</div>

<!-- Settings Tab -->
<div id="settingsTab" style="display:none; padding: 24px;">
    <div class="page-header" style="margin-bottom: 30px;">
      <h1 class="page-title">
        <i class="fas fa-cog"></i> Settings
      </h1>
      <p style="color: var(--text-secondary); margin: 8px 0 0 0;">Customize your gym dashboard experience and manage preferences</p>
    </div>

    <div class="settings-container">
      <!-- Theme Settings -->
      <div class="settings-section">
        <div class="settings-card">
          <div class="settings-header">
            <h3><i class="fas fa-palette"></i> Theme & Appearance</h3>
            <p>Customize the look and feel of your dashboard</p>
          </div>
          <div class="settings-content">
            <div class="theme-selector">
              <div class="theme-option" data-theme="light">
                <div class="theme-preview light-preview">
                  <div class="preview-header"></div>
                  <div class="preview-content">
                    <div class="preview-sidebar"></div>
                    <div class="preview-main"></div>
                  </div>
                </div>
                <span>Light</span>
              </div>
              <div class="theme-option" data-theme="dark">
                <div class="theme-preview dark-preview">
                  <div class="preview-header"></div>
                  <div class="preview-content">
                    <div class="preview-sidebar"></div>
                    <div class="preview-main"></div>
                  </div>
                </div>
                <span>Dark</span>
              </div>
              <div class="theme-option" data-theme="auto">
                <div class="theme-preview auto-preview">
                  <div class="preview-header"></div>
                  <div class="preview-content">
                    <div class="preview-sidebar"></div>
                    <div class="preview-main"></div>
                  </div>
                </div>
                <span>Auto</span>
              </div>
            </div>
            
            <div class="color-scheme-selector" style="margin-top: 20px;">
              <h4>Color Scheme</h4>
              <div class="color-options">
                <div class="color-option active" data-color="blue"><div class="color-circle" style="background: #1976d2;"></div></div>
                <div class="color-option" data-color="green"><div class="color-circle" style="background: #388e3c;"></div></div>
                <div class="color-option" data-color="purple"><div class="color-circle" style="background: #7b1fa2;"></div></div>
                <div class="color-option" data-color="orange"><div class="color-circle" style="background: #f57c00;"></div></div>
                <div class="color-option" data-color="red"><div class="color-circle" style="background: #d32f2f;"></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Notification Settings -->
      <div class="settings-section">
        <div class="settings-card">
          <div class="settings-header">
            <h3><i class="fas fa-bell"></i> Notifications</h3>
            <p>Control how and when you receive notifications</p>
          </div>
          <div class="settings-content">
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">New Member Alerts</div>
                <div class="setting-description">Get notified when new members join</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="newMemberNotif" checked aria-labelledby="newMemberNotifLabel">
                <label for="newMemberNotif" id="newMemberNotifLabel" class="toggle-label"></label>
              </div>
            </div>
            
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Payment Notifications</div>
                <div class="setting-description">Alerts for payment confirmations and due dates</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="paymentNotif" checked aria-labbelledby="paymentNotifLabel">
                <label for="paymentNotif" id="paymentNotifLabel" class="toggle-label"></label>
              </div>
            </div>
            
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Trainer Updates</div>
                <div class="setting-description">Notifications about trainer applications and updates</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="trainerNotif" checked aria-labelledby="trainerNotifLabel">
                <label for="trainerNotif" id="trainerNotifLabel" class="toggle-label"></label>
              </div>
            </div>
            
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Email Notifications</div>
                <div class="setting-description">Receive notifications via email</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="emailNotif">
                <label for="emailNotif" class="toggle-label"></label>
              </div>
            </div>
            
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Membership Expiry Alerts</div>
                <div class="setting-description">Get notified when memberships are about to expire</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="membershipExpiryNotif" checked aria-labelledby="membershipExpiryNotifLabel">
                <label for="membershipExpiryNotif" id="membershipExpiryNotifLabel" class="toggle-label"></label>
              </div>
            </div>
            
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Admin Updates</div>
                <div class="setting-description">Notifications for admin-level system updates</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="adminUpdateNotif" checked aria-labelledby="adminUpdateNotifLabel">
                <label for="adminUpdateNotif" id="adminUpdateNotifLabel" class="toggle-label"></label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Services Management -->
      <div class="settings-section">
        <div class="settings-card">
          <div class="settings-header">
            <h3><i class="fas fa-cogs"></i> Services & Features</h3>
            <p>Enable or disable gym services</p>
          </div>
          <div class="settings-content">
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Online Booking</div>
                <div class="setting-description">Allow members to book sessions online</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="onlineBooking" checked>
                <label for="onlineBooking" class="toggle-label"></label>
              </div>
            </div>
            
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Personal Training</div>
                <div class="setting-description">Offer personal training services</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="personalTraining" checked>
                <label for="personalTraining" class="toggle-label"></label>
              </div>
            </div>
            
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Group Classes</div>
                <div class="setting-description">Provide group fitness classes</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="groupClasses" checked>
                <label for="groupClasses" class="toggle-label"></label>
              </div>
            </div>
            
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Equipment Reservation</div>
                <div class="setting-description">Allow equipment booking in advance</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="equipmentReservation">
                <label for="equipmentReservation" class="toggle-label"></label>
              </div>
            </div>
            
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Member Check-in</div>
                <div class="setting-description">Digital check-in system for members</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="memberCheckin" checked>
                <label for="memberCheckin" class="toggle-label"></label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Operating Hours -->
      <div class="settings-section">
        <div class="settings-card">
          <div class="settings-header">
            <h3><i class="fas fa-clock"></i> Operating Hours</h3>
            <p>Set your gym's operating schedule</p>
          </div>
          <div class="settings-content">
            <div class="operating-hours-grid">
              <div class="day-hours">
                <label>Monday</label>
                <div class="hours-input">
                  <input type="time" value="06:00">
                  <span>to</span>
                  <input type="time" value="22:00">
                  <div class="toggle-switch">
                    <input type="checkbox" id="monClosed">
                    <label for="monClosed" class="toggle-label"></label>
                  </div>
                  <span>Closed</span>
                </div>
              </div>
              <div class="day-hours">
                <label>Tuesday</label>
                <div class="hours-input">
                  <input type="time" value="06:00">
                  <span>to</span>
                  <input type="time" value="22:00">
                  <div class="toggle-switch">
                    <input type="checkbox" id="tueClosed">
                    <label for="tueClosed" class="toggle-label"></label>
                  </div>
                  <span>Closed</span>
                </div>
              </div>
              <div class="day-hours">
                <label>Wednesday</label>
                <div class="hours-input">
                  <input type="time" value="06:00">
                  <span>to</span>
                  <input type="time" value="22:00">
                  <div class="toggle-switch">
                    <input type="checkbox" id="wedClosed">
                    <label for="wedClosed" class="toggle-label"></label>
                  </div>
                  <span>Closed</span>
                </div>
              </div>
              <div class="day-hours">
                <label>Thursday</label>
                <div class="hours-input">
                  <input type="time" value="06:00">
                  <span>to</span>
                  <input type="time" value="22:00">
                  <div class="toggle-switch">
                    <input type="checkbox" id="thuClosed">
                    <label for="thuClosed" class="toggle-label"></label>
                  </div>
                  <span>Closed</span>
                </div>
              </div>
              <div class="day-hours">
                <label>Friday</label>
                <div class="hours-input">
                  <input type="time" value="06:00">
                  <span>to</span>
                  <input type="time" value="22:00">
                  <div class="toggle-switch">
                    <input type="checkbox" id="friClosed">
                    <label for="friClosed" class="toggle-label"></label>
                  </div>
                  <span>Closed</span>
                </div>
              </div>
              <div class="day-hours">
                <label>Saturday</label>
                <div class="hours-input">
                  <input type="time" value="06:00">
                  <span>to</span>
                  <input type="time" value="22:00">
                  <div class="toggle-switch">
                    <input type="checkbox" id="satClosed">
                    <label for="satClosed" class="toggle-label"></label>
                  </div>
                  <span>Closed</span>
                </div>
              </div>
              <div class="day-hours">
                <label>Sunday</label>
                <div class="hours-input">
                  <input type="time" value="06:00">
                  <span>to</span>
                  <input type="time" value="22:00">
                  <div class="toggle-switch">
                    <input type="checkbox" id="sunClosed">
                    <label for="sunClosed" class="toggle-label"></label>
                  </div>
                  <span>Closed</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Security Settings -->
      <div class="settings-section">
        <div class="settings-card">
          <div class="settings-header">
            <h3><i class="fas fa-shield-alt"></i> Security & Privacy</h3>
            <p>Manage your account security settings</p>
          </div>
          <div class="settings-content">
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Two-Factor Authentication</div>
                <div class="setting-description">Add an extra layer of security to your account</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="twoFactorAuth">
                <label for="twoFactorAuth" class="toggle-label"></label>
              </div>
            </div>
            
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Login Notifications</div>
                <div class="setting-description">Get notified of new login attempts</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="loginNotifications" checked>
                <label for="loginNotifications" class="toggle-label"></label>
              </div>
            </div>
            
            <div class="setting-item">
              <div class="setting-info">
                <div class="setting-label">Session Timeout</div>
                <div class="setting-description">Automatically log out after inactivity</div>
              </div>
              <select class="setting-select">
                <option value="30">30 minutes</option>
                <option value="60" selected>1 hour</option>
                <option value="120">2 hours</option>
                <option value="240">4 hours</option>
                <option value="0">Never</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <!-- Data Management -->
      <div class="settings-section">
        <div class="settings-card">
          <div class="settings-header">
            <h3><i class="fas fa-database"></i> Data Management</h3>
            <p>Backup and export your gym data</p>
          </div>
          <div class="settings-content">
            <div class="data-action">
              <div class="action-info">
                <h4>Export Member Data</h4>
                <p>Download a CSV file with all member information</p>
              </div>
              <button class="action-btn secondary">
                <i class="fas fa-download"></i>
                Export CSV
              </button>
            </div>
            
            <div class="data-action">
              <div class="action-info">
                <h4>Backup Database</h4>
                <p>Create a complete backup of your gym database</p>
              </div>
              <button class="action-btn secondary">
                <i class="fas fa-save"></i>
                Create Backup
              </button>
            </div>
            
            <div class="data-action">
              <div class="action-info">
                <h4>Clear Cache</h4>
                <p>Clear temporary data to improve performance</p>
              </div>
              <button class="action-btn secondary">
                <i class="fas fa-trash"></i>
                Clear Cache
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Save Settings -->
      <div class="settings-actions">
        <button class="save-settings-btn" id="saveSettingsBtn">
          <i class="fas fa-save"></i>
          Save All Settings
        </button>
        <button class="reset-settings-btn" id="resetSettingsBtn">
          <i class="fas fa-undo"></i>
          Reset to Defaults
        </button>
      </div>
    </div>
  </div>

<!-- Attendance Tab -->
<div id="attendanceTab" style="display:none;">
  <div class="attendance-container">
    <!-- Compact Top Control Panel -->
    <div class="attendance-control-panel">
      <div class="control-panel-header">
        <h1 class="attendance-title">
          <i class="fas fa-calendar-check"></i>
          Attendance Management
        </h1>
        <div class="attendance-stats-compact">
          <div class="stat-item">
            <span class="stat-number" id="totalCount">0</span>
            <span class="stat-label">Total</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" id="presentCount">0</span>
            <span class="stat-label">Present</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" id="absentCount">0</span>
            <span class="stat-label">Absent</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" id="pendingCount">0</span>
            <span class="stat-label">Pending</span>
          </div>
        </div>
      </div>

      <div class="control-panel-actions">
        <!-- Tabs and Date Controls in one row -->
        <div class="tabs-and-date">
          <div class="attendance-tabs-compact">
            <button class="attendance-tab-btn active" data-tab="members">
              <i class="fas fa-users"></i>
              Members
            </button>
            <button class="attendance-tab-btn" data-tab="trainers">
              <i class="fas fa-user-tie"></i>
              Trainers
            </button>
          </div>
          
          <div class="date-controls-compact">
            <button class="date-nav-btn-compact" id="prevDay">
              <i class="fas fa-chevron-left"></i>
            </button>
            <input type="date" id="attendanceDate" class="date-input-compact" />
            <button class="date-nav-btn-compact" id="nextDay">
              <i class="fas fa-chevron-right"></i>
            </button>
            <button class="today-btn-compact" id="todayBtn">
              <i class="fas fa-calendar-day"></i>
              Today
            </button>
          </div>
        </div>

        <!-- Search and Filters -->
        <div class="search-and-filters">
          <div class="search-box-compact">
            <input type="text" id="attendanceSearch" placeholder="Search by name or ID...">
            <i class="fas fa-search"></i>
          </div>
          <select class="filter-select-compact" id="attendanceFilter">
            <option value="all">All</option>
            <option value="present">Present</option>
            <option value="absent">Absent</option>
            <option value="pending">Pending</option>
          </select>
          <div class="bulk-actions-compact">
            <button class="bulk-btn-compact bulk-present" id="bulkPresentBtn">
              <i class="fas fa-check-circle"></i>
              Mark All Present
            </button>
            <button class="bulk-btn-compact bulk-absent" id="bulkAbsentBtn">
              <i class="fas fa-times-circle"></i>
              Mark All Absent
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Attendance Summary (Compact) -->
    <div class="attendance-summary-compact" id="attendanceSummary">
      <!-- Summary will be populated by JavaScript -->
    </div>

    <!-- Enhanced Column View -->
    <div class="attendance-column-view">
      <div class="attendance-table-header">
        <div class="column-header photo">Photo</div>
        <div class="column-header name">Name</div>
        <div class="column-header id">ID</div>
        <div class="column-header status">Status</div>
        <div class="column-header check-in">Check-in</div>
        <div class="column-header actions">Actions</div>
      </div>
      
      <div class="attendance-table-body" id="attendanceTableBody">
        <!-- Attendance rows will be populated by JavaScript -->
        <div class="loading-row">
          <div class="spinner"></div>
          Loading attendance data...
        </div>
      </div>
    </div>
  </div>
</div>

 
  <!-- Notification integration with enhanced form handler compatibility -->
  <script src="notification-integration.js"></script>
  <!-- Notification Configuration -->
  <script src="notification-config.js"></script>

  <!-- Add Payment Modal -->
  <div class="add-payment-modal" id="addPaymentModal">
    <div class="add-payment-modal-content">
      <div class="add-payment-modal-header">
        <h3 class="add-payment-modal-title">
          <i class="fas fa-plus-circle"></i> Add Payment
        </h3>
        <button class="modal-close-btn" id="closeAddPaymentModal">&times;</button>
      </div>
      <div class="add-payment-modal-body">
        <form id="addPaymentForm">
          <div class="payment-form-grid">
            <div class="payment-form-group">
              <label class="payment-form-label" for="paymentType">Payment Type</label>
              <select class="payment-form-select" id="paymentType" name="type" required>
                <option value="">Select Type</option>
                <option value="received">Amount Received</option>
                <option value="paid">Amount Paid</option>
              </select>
            </div>

            <div class="payment-form-group">
              <label class="payment-form-label" for="paymentCategory">Category</label>
              <select class="payment-form-select" id="paymentCategory" name="category" required>
                <option value="">Select Category</option>
                <option value="membership">Membership</option>
                <option value="personal_training">Personal Training</option>
                <option value="rent">Rent</option>
                <option value="bills">Bills</option>
                <option value="staff_payment">Staff Payment</option>
                <option value="equipment_maintenance">Equipment Maintenance</option>
                <option value="accessories">New Accessories</option>
                <option value="miscellaneous">Miscellaneous</option>
              </select>
            </div>

            <div class="payment-form-group">
              <label class="payment-form-label" for="paymentAmount">Amount (₹)</label>
              <input type="number" class="payment-form-input" id="paymentAmount" name="amount" min="0" step="0.01" required>
            </div>

            <div class="payment-form-group">
              <label class="payment-form-label" for="paymentMethod">Payment Method</label>
              <select class="payment-form-select" id="paymentMethod" name="paymentMethod" required>
                <option value="cash">Cash</option>
                <option value="card">Card</option>
                <option value="upi">UPI</option>
                <option value="bank_transfer">Bank Transfer</option>
                <option value="cheque">Cheque</option>
              </select>
            </div>

            <div class="payment-form-group full-width">
              <label class="payment-form-label" for="paymentDescription">Description</label>
              <input type="text" class="payment-form-input" id="paymentDescription" name="description" placeholder="Enter payment description" required>
            </div>

            <div class="payment-form-group">
              <label class="payment-form-label" for="memberName">Member Name (if applicable)</label>
              <input type="text" class="payment-form-input" id="memberName" name="memberName" placeholder="Enter member name">
            </div>

            <div class="payment-form-group">
              <label class="payment-form-label" for="paymentDueDate">Due Date</label>
              <input type="date" class="payment-form-input" id="paymentDueDate" name="dueDate">
            </div>

            <div class="payment-form-group full-width">
              <div class="payment-form-checkbox">
                <input type="checkbox" id="isRecurring" name="isRecurring">
                <label for="isRecurring">This is a recurring payment</label>
              </div>
            </div>
          </div>

          <div class="recurring-details" id="recurringDetails">
            <div class="payment-form-grid">
              <div class="payment-form-group">
                <label class="payment-form-label" for="recurringFrequency">Frequency</label>
                <select class="payment-form-select" id="recurringFrequency" name="frequency">
                  <option value="monthly">Monthly</option>
                  <option value="quarterly">Quarterly</option>
                  <option value="yearly">Yearly</option>
                </select>
              </div>

              <div class="payment-form-group">
                <label class="payment-form-label" for="nextDueDate">Next Due Date</label>
                <input type="date" class="payment-form-input" id="nextDueDate" name="nextDueDate">
              </div>
            </div>
          </div>

          <div class="payment-form-group full-width">
            <label class="payment-form-label" for="paymentNotes">Notes</label>
            <textarea class="payment-form-textarea" id="paymentNotes" name="notes" placeholder="Additional notes (optional)"></textarea>
          </div>
        </form>
      </div>
      <div class="add-payment-modal-footer">
        <button type="button" class="payment-form-btn secondary" id="cancelPaymentBtn">Cancel</button>
        <button type="submit" class="payment-form-btn primary" form="addPaymentForm">Add Payment</button>
      </div>
    </div>
  </div>
 
</body>
</html>
       