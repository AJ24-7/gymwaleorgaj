<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fit-Verse Admin Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="admin.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script defer src="admin.js"></script>
    <script defer src="admin-notification-system.js"></script>
   
</head>
<body>
    <!-- Hamburger for mobile -->
    <div class="hamburger" id="hamburgerMenu" aria-label="Open sidebar" tabindex="0">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="sidebar" id="sidebarMenu">
        <div class="sidebar-header">
            <img src="https://via.placeholder.com/40" alt="Fit-Verse Logo">
            <h3>Fit-Verse Admin</h3>
        </div>
        <div class="sidebar-menu">
            <ul>
                <li><a href="#" class="active" id="dashboard-tab"><i class="fas fa-tachometer-alt"></i> <span>Dashboard</span></a></li>
                <li><a href="#" id="gym-tab"><i class="fas fa-dumbbell"></i> <span>Gym Management</span></a></li>
                <li><a href="#" id="trial-booking-tab"><i class="fas fa-calendar-check"></i> <span>Trial Bookings</span></a></li>
                <li><a href="#" id="trainer-management-tab"><i class="fas fa-users-cog"></i> <span>Trainer Management</span></a></li>
                <li><a href="#" id="payment-tab"><i class="fas fa-credit-card"></i> <span>Payments</span></a></li>
                <li><a href="#" id="attendance-tab"><i class="fas fa-calendar-check"></i> <span>Attendance</span></a></li>
                <li><a href="#" id="users-tab"><i class="fas fa-users"></i> <span>Users</span></a></li>
                <li><a href="#" id="support-tab"><i class="fas fa-headset"></i> <span>Support</span></a></li>
                <li><a href="#" id="settings-tab"><i class="fas fa-cog"></i> <span>Settings</span></a></li>
            </ul>
        </div>
        <div class="sidebar-footer">
            <p>v1.0.0</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Top Navbar -->
<div class="top-navbar">
    <div class="user-info">
      <div class="notification-bell" id="notificationBell">
        <i class="fas fa-bell"></i>
        <span class="notification-count" id="notificationCount" style="display: none;">0</span>
  
        <!-- Notification Dropdown -->
        <div class="notification-dropdown" id="notificationDropdown" style="display: none;">
          <div class="notification-header">
            <h4>Notifications</h4>
            <a href="#" onclick="return false;">Mark All Read</a>
          </div>
          <div class="notification-list" id="notificationList">
            <div class="no-notifications">No new notifications</div>
          </div>
          <div class="notification-footer">
            <a href="#" onclick="return false;">View All Notifications</a>
          </div>
        </div>
      </div>
      <div class="admin-dropdown" onclick="toggleAdminMenu()">
        <img src="/assets/admin-avatar.png" alt="Admin" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiMzNzQxNTEiLz4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDEyQzE0LjIwOTEgMTIgMTYgMTAuMjA5MSAxNiA4QzE2IDUuNzkwODYgMTQuMjA5MSA0IDEyIDRDOS43OTA4NiA0IDggNS43OTA4NiA4IDhDOCAxMC4yMDkxIDkuNzkwODYgMTIgMTIgMTJaTTEyIDEyVjEyWiIgZmlsbD0iI0Y5RkFGQiIvPgo8cGF0aCBkPSJNMTIgMTRDOC4xMzQwMSAxNCA1IDE3LjEzNCA1IDIxSDE5QzE5IDE3LjEzNCAxNS44NjYgMTQgMTIgMTRaIiBmaWxsPSIjRjlGQUZCIi8+Cjwvc3ZnPgo8L3N2Zz4K'">
        <span>Admin User</span>
        <div class="admin-menu" id="adminMenu" style="display: none;">
          <a href="/admin/profile">Profile</a>
          <a href="/admin/settings">Settings</a>
          <a href="/admin/logout">Logout</a>
        </div>
      </div>
    </div>
  </div>
  
        <!-- Content Area -->
        <div class="content-area">
            <!-- Dashboard Content -->
            <div id="dashboard-content" class="tab-content active">
                <div class="page-header">
                    <h2>Dashboard Overview</h2>
                    <div>
                        <button class="btn btn-primary"><i class="fas fa-download"></i> Generate Report</button>
                    </div>
                </div>
                
                <!-- Dashboard Cards -->
                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-header">
                            <h3>Total Users</h3>
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="card-body">
                            <h2 id="total-users">--</h2>
                            <p id="users-change"><span class="text-success">--</span> from last month</p>
                        </div>
                    </div>
                    <div class="card success">
                        <div class="card-header">
                            <h3>Active Members</h3>
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="card-body">
                            <h2 id="active-members">--</h2>
                            <p id="members-change"><span class="text-success">--</span> from last month</p>
                        </div>
                    </div>
                    <div class="card warning">
                        <div class="card-header">
                            <h3>Pending Approvals</h3>
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="card-body">
                            <h2 id="pending-approvals">--</h2>
                            <p id="approvals-detail">Gyms: --, Trainers: --</p>
                        </div>
                    </div>
                    <div class="card danger">
                        <div class="card-header">
                            <h3>Revenue</h3>
                            <i class="fas fa-rupee-sign"></i>
                        </div>
                        <div class="card-body">
                            <h2 id="total-revenue">--</h2>
                            <p id="revenue-change"><span class="text-success">--</span> from last month</p>
                        </div>
                    </div>
                    <div class="card info">
                        <div class="card-header">
                            <h3>Trial Bookings</h3>
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="card-body">
                            <h2 id="total-trial-bookings">--</h2>
                            <p id="pending-trial-approvals-text"><span class="text-warning">--</span> Pending Approvals</p>
                        </div>
                    </div>
                    <div class="card primary">
                        <div class="card-header">
                            <h3>Total Gyms Registered</h3>
                            <i class="fas fa-dumbbell"></i>
                        </div>
                        <div class="card-body">
                            <h2 id="total-gyms-registered">--</h2>
                            <p id="gyms-using-dashboard"><span class="text-success">--</span> using dashboard</p>
                        </div>
                    </div>
                </div>
                
                <!-- Charts Row -->
                <div class="dashboard-cards">
                    <div class="card" style="grid-column: span 2;">
                        <div class="card-header">
                            <h3>Revenue Overview</h3>
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="revenueChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="card" style="grid-column: span 2;">
                        <div class="card-header">
                            <h3>User Growth</h3>
                        </div>
                        <div class="card-body">
                            <div class="chart-container">
                                <canvas id="usersChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Activities -->
                <div class="table-container">
                    <h3>Recent Activities</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Activity</th>
                                <th>User</th>
                                <th>Time</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Gym Membership Renewal</td>
                                <td>John Smith</td>
                                <td>5 minutes ago</td>
                                <td><span class="status status-approved">Completed</span></td>
                            </tr>
                            <tr>
                                <td>New Trainer Registration</td>
                                <td>Mike Johnson</td>
                                <td>15 minutes ago</td>
                                <td><span class="status status-pending">Pending</span></td>
                            </tr>
                            <tr>
                                <td>Payment Received</td>
                                <td>Sarah Williams</td>
                                <td>30 minutes ago</td>
                                <td><span class="status status-approved">Completed</span></td>
                            </tr>
                            <tr>
                                <td>Gym Registration</td>
                                <td>Elite Fitness</td>
                                <td>1 hour ago</td>
                                <td><span class="status status-pending">Pending</span></td>
                            </tr>
                            <tr>
                                <td>Support Ticket</td>
                                <td>Robert Brown</td>
                                <td>2 hours ago</td>
                                <td><span class="status status-pending">Pending</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Gym Management Content -->
            <div id="gym-content" class="tab-content">
                <div class="page-header">
                    <h2>Gym Management</h2>
                    <div style="display:flex;align-items:center;gap:16px;">
                         <span class="gym-count-label" style="font-size:1.1em;color:#1976d2;font-weight:600;">Total: <span id="count-all-gyms">(0)</span></span>
                        <button class="btn btn-primary" id="add-gym-btn"><i class="fas fa-plus"></i> Add Gym</button>
                    </div>
                </div>
            
                <div class="gym-tabs">
                    <div class="gym-tab active" data-tab="all-gyms">All Gyms <span id="count-all-gyms" class="gym-count-tab">(0)</span></div>
                    <div class="gym-tab" data-tab="pending-gyms">Pending Approval <span id="count-pending-gyms" class="gym-count-tab">(0)</span></div>
                    <div class="gym-tab" data-tab="approved-gyms">Approved <span id="count-approved-gyms" class="gym-count-tab">(0)</span></div>
                    <div class="gym-tab" data-tab="rejected-gyms">Rejected <span id="count-rejected-gyms" class="gym-count-tab">(0)</span></div>
                    <div class="gym-tab" data-tab="trial-bookings">Trial Bookings</div>
                </div>
            
                <!-- All Gyms -->
                <div class="gym-tab-content active" id="all-gyms">
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Gym Name</th>
                                    <th>Owner</th>
                                    <th>Location</th>
                                    <th>Members</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="all-gyms-body">
                                <tr><td colspan="7">Loading gyms...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            
                <!-- Pending Gyms -->
                <div class="gym-tab-content" id="pending-gyms">
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Gym Name</th>
                                    <th>Owner</th>
                                    <th>Location</th>
                                    <th>Status</th>
                                    <th>Submitted On</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="pending-gyms-body">
                                <tr><td colspan="6">Loading pending gyms...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            
                <!-- Approved Gyms -->
                <div class="gym-tab-content" id="approved-gyms">
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Gym Name</th>
                                    <th>Owner</th>
                                    <th>Location</th>
                                    <th>Members</th>
                                    <th>Status</th>
                                    <th>Approved On</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="approved-gyms-body">
                                <tr><td colspan="7">Loading approved gyms...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            
                <!-- Rejected Gyms -->
                <div class="gym-tab-content" id="rejected-gyms">
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Gym Name</th>
                                    <th>Owner</th>
                                    <th>Location</th>
                                    <th>Status</th>
                                    <th>Reason</th>
                                    <th>Rejected On</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="rejected-gyms-body">
                                <tr><td colspan="7">Loading rejected gyms...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Gym Detail Modal (hidden by default, shown via JS) -->
            <div id="gymDetailModal" class="gym-detail-modal" style="display:none;">
              <div class="gym-detail-modal-overlay"></div>
              <div class="gym-detail-modal-content">
                <!-- Dynamic gym info will be injected here by admin.js -->
                <button class="gym-detail-modal-close" id="closeGymDetailModal" aria-label="Close">&times;</button>
                <div id="gymDetailContent"></div>
              </div>
            </div>

            <!-- Trial Booking Content -->
            <div id="trial-booking-content" class="tab-content">
              <div class="trial-booking-container">
                <h2>Trial Session Requests</h2>
                <div class="filter-options">
                  <select id="status-filter" class="filter-select">
                    <option value="all">All Requests</option>
                    <option value="pending">Pending</option>
                    <option value="approved">Approved</option>
                    <option value="rejected">Rejected</option>
                  </select>
                  <input type="text" id="search-input" class="search-input" placeholder="Search clients...">
                </div>
                <div class="trial-requests-list">

                  <!-- Dynamic content will be loaded here by JS -->
                </div>
              </div>
            </div>

            <!-- Trainer Management Content -->
            <div id="trainer-management-content" class="tab-content">
                <div class="trainer-mgmt-tabs-row">
                    <div class="trainer-mgmt-tab-section active" data-tab="All">All</div>
                    <div class="trainer-mgmt-tab-section" data-tab="pending">Pending</div>
                    <div class="trainer-mgmt-tab-section" data-tab="approved">Approved</div>
                    <div class="trainer-mgmt-tab-section" data-tab="rejected">Rejected</div>
                    <div class="trainer-mgmt-tab-section" data-tab="revoked">Revoked</div>
                </div>
                <div class="trainer-mgmt-grid" id="trainerMgmtGrid">
                    <!-- Trainer cards will be rendered dynamically by admin.js -->
                </div>
                </div>
            </div>
            
           
    <!-- Notification Container -->
    <div id="notification-container" style="
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
    "></div>
</body>

</html>